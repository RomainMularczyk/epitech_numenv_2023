---
import SubscribeButton from "@/components/SubscribeButton";
import DetailsButton from "@/components/DetailsButton";
import { getFormattedDate } from "../../utils/date.ts";

const {
  speaker,
  title,
  date,
  time,
  type,
  place,
  description } = Astro.props;

const slug = speaker.replace(" ", "-").toLowerCase();
---

<li class="program-entry">
  <span class="program-speaker">{speaker}</span>
  <span class="program-title">{title}</span>
  <div class="program-date-time">
    <span class="program-date">
      {getFormattedDate(date)}
    </span>
    <div class="program-sep"/>
    <span class="program-time">{time}</span>
  </div>
  <div class="program-place-type">
    <span class="program-place">{place}</span>
    <div class="program-sep" />
    <span class="program-type">{type}</span>
  </div>
  <p class="program-description pb-4">{description}</p>
  <div class="flex flex-row gap-2">
    {
      speaker === "IA Pau" ?
      <SubscribeButton link="https://8e21s.r.sp1-brevo.net/mk/cl/f/sh/1f8JIKXwHGYowyt0keTejBr1Lo/RzQI1sC9ULo4" />
      : <SubscribeButton link={Astro.url.origin + "/subscribe/" + slug} />
    }
    <DetailsButton link={Astro.url.pathname + slug} />
  </div>
  <div class="program-sep-section" />
</li>
